<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The function hdmax2::estimate_effect() takes as input an object hdmax2_step1 and a list of potential mediators MS to be analyzed in subsequent steps. — estimate_effect • hdmax2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The function hdmax2::estimate_effect() takes as input an object hdmax2_step1 and a list of potential mediators MS to be analyzed in subsequent steps. — estimate_effect"><meta name="description" content="For each univariate exposure variable and the subset of mediators MS,
the hdmax2::estimate_effect() function computes several estimates
to evaluate the indirect effects in the path between exposure variables
and the outcome variable. Initially, this function assesses each mediator
variable MS_j individually and computes causal measures of interest
such as (i) the Average Causal Mediated Effect (ACME, corresponding to
the indirect effect) and (ii) the Proportion Mediated (PM). The ACME
differs from the Average Direct Effect (ADE), which represents the
unmediated effect, and from the Total Effect (TE) which is equal to the sum
of direct and indirect effect. PM corresponds to the proportion of
the total effect that is mediated by the mediator (ratio of the indirect
effect to the total effect). ACME and PM are computed by the
mediation::mediate() function of the package mediation, that
automatically detects the type of statistical model used in the mediation
analysis (Tingley et al. 2014). The function mediation::mediate()
calculates uncertainty estimates by a quasi-Bayesian Monte Carlo approach
described (Imai et al. 2010). In addition, it estimates the intermediary
effect sizes  a_j and b_j and their standard deviations. Eventually,
hdmax2 calculates an Overall Indirect Effect (OIE) from a single model
that includes all mediators MS simultaneously. The OIE corresponds
to the sum of the indirect effect associated with all mediators.
The confidence interval (CI) of the OIE is estimated by a bootstrap
approach. Along with the OIE, hdmax2 estimates the Overall Total
Effect (OTE) corresponding to the effect of exposure variables on
the outcome variable, as well as the Overall Direct Effect (ODE)
corresponding to the effect of exposure variables on the outcome variable
when the mediators MS are included in the model."><meta property="og:description" content="For each univariate exposure variable and the subset of mediators MS,
the hdmax2::estimate_effect() function computes several estimates
to evaluate the indirect effects in the path between exposure variables
and the outcome variable. Initially, this function assesses each mediator
variable MS_j individually and computes causal measures of interest
such as (i) the Average Causal Mediated Effect (ACME, corresponding to
the indirect effect) and (ii) the Proportion Mediated (PM). The ACME
differs from the Average Direct Effect (ADE), which represents the
unmediated effect, and from the Total Effect (TE) which is equal to the sum
of direct and indirect effect. PM corresponds to the proportion of
the total effect that is mediated by the mediator (ratio of the indirect
effect to the total effect). ACME and PM are computed by the
mediation::mediate() function of the package mediation, that
automatically detects the type of statistical model used in the mediation
analysis (Tingley et al. 2014). The function mediation::mediate()
calculates uncertainty estimates by a quasi-Bayesian Monte Carlo approach
described (Imai et al. 2010). In addition, it estimates the intermediary
effect sizes  a_j and b_j and their standard deviations. Eventually,
hdmax2 calculates an Overall Indirect Effect (OIE) from a single model
that includes all mediators MS simultaneously. The OIE corresponds
to the sum of the indirect effect associated with all mediators.
The confidence interval (CI) of the OIE is estimated by a bootstrap
approach. Along with the OIE, hdmax2 estimates the Overall Total
Effect (OTE) corresponding to the effect of exposure variables on
the outcome variable, as well as the Overall Direct Effect (ODE)
corresponding to the effect of exposure variables on the outcome variable
when the mediators MS are included in the model."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hdmax2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/hdmax2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The function hdmax2::estimate_effect() takes as input an object hdmax2_step1 and a list of potential mediators MS to be analyzed in subsequent steps.</h1>

      <div class="d-none name"><code>estimate_effect.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>For each univariate exposure variable and the subset of mediators MS,
the hdmax2::estimate_effect() function computes several estimates
to evaluate the indirect effects in the path between exposure variables
and the outcome variable. Initially, this function assesses each mediator
variable MS_j individually and computes causal measures of interest
such as (i) the Average Causal Mediated Effect (ACME, corresponding to
the indirect effect) and (ii) the Proportion Mediated (PM). The ACME
differs from the Average Direct Effect (ADE), which represents the
unmediated effect, and from the Total Effect (TE) which is equal to the sum
of direct and indirect effect. PM corresponds to the proportion of
the total effect that is mediated by the mediator (ratio of the indirect
effect to the total effect). ACME and PM are computed by the
mediation::mediate() function of the package mediation, that
automatically detects the type of statistical model used in the mediation
analysis (Tingley et al. 2014). The function mediation::mediate()
calculates uncertainty estimates by a quasi-Bayesian Monte Carlo approach
described (Imai et al. 2010). In addition, it estimates the intermediary
effect sizes  a_j and b_j and their standard deviations. Eventually,
hdmax2 calculates an Overall Indirect Effect (OIE) from a single model
that includes all mediators MS simultaneously. The OIE corresponds
to the sum of the indirect effect associated with all mediators.
The confidence interval (CI) of the OIE is estimated by a bootstrap
approach. Along with the OIE, hdmax2 estimates the Overall Total
Effect (OTE) corresponding to the effect of exposure variables on
the outcome variable, as well as the Overall Direct Effect (ODE)
corresponding to the effect of exposure variables on the outcome variable
when the mediators MS are included in the model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">estimate_effect</span><span class="op">(</span><span class="va">object</span>, <span class="va">m</span>, boots <span class="op">=</span> <span class="fl">1000</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>results from hdmax2 step 2</p></dd>


<dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>a response variable matrix with n rows and p columns corresponding to mediators selected at step1.
Response variables must be encoded as numeric. No NAs allowed.</p></dd>


<dt id="arg-boots">boots<a class="anchor" aria-label="anchor" href="#arg-boots"></a></dt>
<dd><p>number of bootstrap</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>arguments for inner functions</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>hdmax2_step2 object</p><ul><li><p>ACME, estimation of the average causal mediation effect (the indirect effect)</p></li>
<li><p>ADE, estimation average direct effect</p></li>
<li><p>PM, estimation of the proportion mediated</p></li>
<li><p>TE, estimation of the total effect</p></li>
</ul><p>Regressions:</p><ul><li><p>xm, regression X on M</p></li>
<li><p>my, regression M on Y</p></li>
</ul><p>Overall effect</p><ul><li><p>oie, overall indirect effect</p></li>
<li><p>oie_med , oie median</p></li>
<li><p>oie_sd , oie standard deviation</p></li>
<li><p>ote, overall total effect</p></li>
<li><p>ode, overall direct effect</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>We use the mediate function of the mediation package on the set of markers having Q-value lower
than the FDR threshold. It estimates their indirect effects and
tests their significance.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Florence Pittion, Magali Richard, Olivier Francois, Basile Jumentier</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example dataset</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach</a></span><span class="op">(</span><span class="va">simu_data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">K</span> <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="co"># Run {hdmax2} step 1</span></span></span>
<span class="r-in"><span><span class="va">hdmax2_step1</span> <span class="op">=</span> <span class="fu">hdmax2</span><span class="fu">::</span><span class="fu"><a href="run_AS.html">run_AS</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  exposure <span class="op">=</span> <span class="va">simu_data</span><span class="op">$</span><span class="va">X_binary</span>,</span></span>
<span class="r-in"><span>  outcome <span class="op">=</span>  <span class="va">simu_data</span><span class="op">$</span><span class="va">Y_continuous</span>,</span></span>
<span class="r-in"><span>  M <span class="op">=</span>  <span class="va">simu_data</span><span class="op">$</span><span class="va">M1</span>,</span></span>
<span class="r-in"><span>  K <span class="op">=</span> <span class="va">K</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running first regression with univariate exposure variable.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running second regression.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running max-squared test.</span>
<span class="r-in"><span><span class="co"># Select mediators</span></span></span>
<span class="r-in"><span><span class="va">mediators_subset</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">hdmax2_step1</span><span class="op">$</span><span class="va">max2_pvalues</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mediators_top10</span> <span class="op">=</span> <span class="va">simu_data</span><span class="op">$</span><span class="va">M1</span><span class="op">[</span>, <span class="va">mediators_subset</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># Run {hdmax2} step 2</span></span></span>
<span class="r-in"><span><span class="va">hdmax2_step2</span> <span class="op">=</span> <span class="fu">hdmax2</span><span class="fu">::</span><span class="fu">estimate_effect</span><span class="op">(</span>object <span class="op">=</span> <span class="va">hdmax2_step1</span>, </span></span>
<span class="r-in"><span>                                       m <span class="op">=</span> <span class="va">mediators_top10</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Estimating indirect effect for univariate exposome.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The input exposome is continuous or binary</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 3</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 3</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 4</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 4</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 5</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 5</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 7</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 7</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 8</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 8</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 9</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 9</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 1 for continuous or binary exposure and mediator 10</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generate regression 2 for continuous outcome and mediator 10</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing ODE and OTE for continuous outcome.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Florence Pittion, Magali Richard, Olivier Francois, Basile Jumentier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

